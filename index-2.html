<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class = "main-wrapper">
        <div class = "nav-wrapper">
            <div id = "nav-bar-top"> 
                <nav class="navbar navbar-expand-custom navbar-mainbg">
                    <button class="navbar-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars text-white"></i>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ml-auto">
                            <div class="hori-selector"><div class="left"></div><div class="right"></div></div>
                            <li class="nav-item">
                                <a class="nav-link" href="javascript:void(0);"><i class="fas fa-tachometer-alt"></i>Home</a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="javascript:void(0);"><i class="far fa-address-book"></i>Our Project</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="javascript:void(0);"><i class="far fa-clone"></i>The Assignment</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="javascript:void(0);"><i class="far fa-calendar-alt"></i>The Can and its Mysteries contents</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="javascript:void(0);"><i class="far fa-chart-bar"></i>Using our work as a Resource (Citations)</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="javascript:void(0);"><i class="far fa-copy"></i>Documents</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <div id = "search-br">
                <form class="d-flex input-group srch">
                    <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
                    <span class="input-group-text border-0" id="search-addon">
                        <span id = "srch-color">
                            <span class="glyphicon glyphicon-search icon-search"></span>
                        </span>
                    </span> 
                </form>
                <a class="navbar-brand navbar-logo" href="#">The Can of Mysteries</a>
            </div>  
            <div  id = "nav-bottom-container">
                <div id = "slide-text-box">
                </div>
                <div id="slider">
                    <img src="img\image.jpeg" alt="Description 1" data-title="Title Slide 1" data-url="#">
                    <img src="img\images.jpeg" alt="Description 2" data-title="Title Slide 2" data-url="#">
                    <img src="img\purple-color-solid-background-1920x1080.png" alt="Description 3" data-title="Title Slide 3" data-url="#">
                   
                </div>

            </div>
        </div>
        <div class = "body">

            <div id = "grid-text-box">
                <span id = "text-descrip-grid"></span>
            </div>
            <div class="myGallery">
                <div class="item">
                    <img src="https://picsum.photos/190/190?1" />
                    <span class="caption">This is an image caption for image 1</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?2" />
                    <span class="caption">This is an image caption for image 2</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?3" />
                    <span class="caption">This is an image caption for image 3</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?4" />
                    <span class="caption">This is an image caption for image 4</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?5" />
                    <span class="caption">This is an image caption for image 5</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?6" />
                    <span class="caption">This is an image caption for image 6</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?7" />
                    <span class="caption">This is an image caption for image 7</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?8" />
                    <span class="caption">This is an image caption for image 8</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?9" />
                    <span class="caption">This is an image caption for image 9</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?10" />
                    <span class="caption">This is an image caption for image 10</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?11" />
                    <span class="caption">This is an image caption for image 11</span>
                </div>

                <div class="item">
                  <img src="https://picsum.photos/190/190?11" />
                  <span class="caption">This is an image caption for image 11</span>
                </div>
                <div class="item">
                  <img src="https://picsum.photos/190/190?12" />
                  <span class="caption">This is an image caption for image 12</span>
                </div>
                <div class="item">
                  <img src="https://picsum.photos/190/190?13" />
                  <span class="caption">This is an image caption for image 13</span>
                </div>
                <div class="item">
                  <img src="https://picsum.photos/190/190?14" />
                  <span class="caption">This is an image caption for image 14</span>
                </div>
                <div class="item">
                  <img src="https://picsum.photos/190/190?15" />
                  <span class="caption">This is an image caption for image 15</span>
                </div>
                <div class="item">
                    <img src="https://picsum.photos/190/190?14" />
                    <span class="caption">This is an image caption for image 16</span>
                  </div>
                  <div class="item">
                    <img src="https://picsum.photos/190/190?15" />
                    <span class="caption">This is an image caption for image 17</span>
                  </div>
                  <div class="item">
                    <img src="https://picsum.photos/190/190?14" />
                    <span class="caption">This is an image caption for image 18/span>
                  </div>
                  <div class="item">
                    <img src="https://picsum.photos/190/190?15" />
                    <span class="caption">This is an image caption for image 19</span>
                  </div>
              </div>
                  
      </div>
        </div>
        <div class = "body-SideBar">

        </div>
        <div class = "footer-wrapper">
            <div id = "ftr-left">

            </div >
            <div id = "ftr-center">
                <div id = "cntr-ftr-tittle">
                   <h1> About Us</h1>
                </div>
                <div id = "cntr-ftr-content">
                    The world is a mysterious place. The can of mystery highlights some of those mysteries. This site is a class project for Amanda Warren's English 101 class at the University of South Carolina Aiken. Articles are uploaded once a year (on average) in the fall and/or spring. If you have questions or tips on mysteries, please leave a comment or contact AmandaW at USCA dot EDU.
                </div>
            </div>
            <div id = "ftr-right">

            </div>
            
        </div>
    </div>
    <script>
        window.onscroll = function() {myFunction()};
        var navbar = document.getElementById("search-br");
        var sticky = navbar.offsetTop;
        function myFunction() {
        if (window.pageYOffset >= sticky) {
            
            navbar.classList.add("sticky")
            navbar.classList.remove("no-stick");
        } else {
            navbar.classList.add("no-stick");
            navbar.classList.remove("sticky");
        }
        }
        let slider = document.querySelector("#slider");
        let slides = document.querySelectorAll("#slider img");
        let currentSlide = 0;
        let dots;
        let autoSlide;
        let autoSlidePlay = true;

        addControls();
        addCaptionArea();
        slideTo(currentSlide);
        resetAutoSlide();

        function resetAutoSlide(){
            if(autoSlidePlay){
                clearInterval(autoSlide);
                autoSlide = setInterval(() => { slideTo(increaseSlide(1)) }, 5000);
            }
        }

        function startPause(){
            let btn = document.getElementById('slider_startPause');
            if (autoSlidePlay){
                autoSlidePlay = false;
                btn.className = 'far fa-play-circle'
                clearInterval(autoSlide);
            } else {
                autoSlidePlay = true;
                btn.className = 'far fa-pause-circle'
                resetAutoSlide()
            }
        }

        function addControls(){
            //arrow Left
            let arrowLeft = document.createElement('div');
            arrowLeft.id = 'slider_arrow_left';
            arrowLeft.innerHTML = '<i class="fas fa-angle-left"></i>';
            arrowLeft.title = 'slide ' + (increaseSlide(-1) + 1);
            arrowLeft.addEventListener("click", ()=> {
                slideTo(increaseSlide(-1));
                resetAutoSlide();
            });
            slider.append(arrowLeft);
            //arrow Right
            let arrowRight = document.createElement("div");
            arrowRight.id = 'slider_arrow_right';
            arrowRight.innerHTML = '<i class="fas fa-angle-right"></i>';
            arrowRight.title = 'slide ' + (increaseSlide(1) + 1);
            arrowRight.addEventListener("click", ()=>{
                slideTo(increaseSlide(1));
                resetAutoSlide();
            })
            slider.append(arrowRight);
            //pause Button
            let startPauseBtn = document.createElement("i");
            startPauseBtn.id = 'slider_startPause';
            startPauseBtn.className = 'far fa-pause-circle';
            startPauseBtn.addEventListener("click", () => { startPause() });
            slider.append(startPauseBtn);
            //indicator dots
            let indicators = document.createElement("div");
            indicators.id= 'slider_indicators';
            for(i = 0; i<slides.length; i++){
                let nr = i;
                let dot = document.createElement("i");
                dot.className = "far fa-circle";
                dot.addEventListener("click", ()=> {
                    slideTo(nr);
                    resetAutoSlide();
                });
                indicators.append(dot);
            }
            slider.append(indicators);
            dots = indicators.children
        }

        function increaseSlide(nr){
            if(nr>0 && currentSlide + nr >= slides.length) return 0
            else if(nr<0 && currentSlide + nr < 0) return slides.length -1
            else return currentSlide + nr
        }

        function slideTo(nr){
            let from  = currentSlide *-100 + '%';
            let to = nr * -100 + '%';
            slides[0].animate(
                { marginLeft: [from, to] }, 
                { duration: 500, easing: "ease-in-out", iterations: 1, fill: "both" });
            highlightIndicator(nr);
            currentSlide = nr;
            addCaptions();
        }

        function highlightIndicator(nr){
            dots[currentSlide].className = "far fa-circle";
            dots[nr].className = "far fa-dot-circle"
        }

        function addCaptionArea(){
            let caption = document.createElement("a");
            caption.id = "slider_caption";
            let captionTitle = document.createElement("h1");
            let captionDesc = document.createElement("p");
            caption.append(captionTitle);
            caption.append(captionDesc);
            slider.append(caption);
        }

        function addCaptions(){
            let link = document.getElementById('slider_caption');
            link.href = slides[currentSlide].dataset.url
            link.title = slides[currentSlide].dataset.title + ': read more'
            let title = document.querySelector("#slider_caption h1");
            title.innerHTML = slides[currentSlide].dataset.title;
            let descr = document.querySelector("#slider_caption p");
            descr.innerHTML = slides[currentSlide].alt;
        }
        // ---------Responsive-navbar-active-animation-----------
        function test(){
            var tabsNewAnim = $('#navbarSupportedContent');
            var selectorNewAnim = $('#navbarSupportedContent').find('li').length;
            var activeItemNewAnim = tabsNewAnim.find('.active');
            var activeWidthNewAnimHeight = activeItemNewAnim.innerHeight();
            var activeWidthNewAnimWidth = activeItemNewAnim.innerWidth();
            var itemPosNewAnimTop = activeItemNewAnim.position();
            var itemPosNewAnimLeft = activeItemNewAnim.position();
            $(".hori-selector").css({
                "top":itemPosNewAnimTop.top + "px", 
                "left":itemPosNewAnimLeft.left + "px",
                "height": activeWidthNewAnimHeight + "px",
                "width": activeWidthNewAnimWidth + "px"
            });
            $("#navbarSupportedContent").on("click","li",function(e){
                $('#navbarSupportedContent ul li').removeClass("active");
                $(this).addClass('active');
                var activeWidthNewAnimHeight = $(this).innerHeight();
                var activeWidthNewAnimWidth = $(this).innerWidth();
                var itemPosNewAnimTop = $(this).position();
                var itemPosNewAnimLeft = $(this).position();
                $(".hori-selector").css({
                    "top":itemPosNewAnimTop.top + "px", 
                    "left":itemPosNewAnimLeft.left + "px",
                    "height": activeWidthNewAnimHeight + "px",
                    "width": activeWidthNewAnimWidth + "px"
                });
            });
        }
        $(document).ready(function(){
            setTimeout(function(){ test(); });
        });
        $(window).on('resize', function(){
            setTimeout(function(){ test(); }, 500);
        });
        $(".navbar-toggler").click(function(){
            $(".navbar-collapse").slideToggle(300);
            setTimeout(function(){ test(); });
        });


        jQuery(document).ready(function($){

            var path = window.location.pathname.split("/").pop();
            if ( path == '' ) {
                path = 'index.html';
            }

            var target = $('#navbarSupportedContent ul li a[href="'+path+'"]');
            target.parent().addClass('active');
        });
    </script>
</body>
</html>